<?xml version="1.0"?>
<odoo>
  <!--Action-->
  <record id="booking_action" model="ir.actions.act_window">
    <field name="name">Bookings</field>
    <field name="res_model">flexwheels.booking</field>
    <field name="view_mode">tree,form</field>
    <field name="context">{'search_default_state': 1}</field>
    <field name="help" type="html">
      <p class="o_view_nocontent_smiling_face">
            No record found. Let's create one!
          </p>
    </field>
  </record>

  <!--List View-->
  <record id="booking_model_view_tree" model="ir.ui.view">
    <field name="name">flexwheels.booking.tree</field>
    <field name="model">flexwheels.booking</field>
    <field name="arch" type="xml">
      <tree string="Channel" decoration-success='state=="confirm"' decoration-danger='state=="cancelled"' decoration-muted='state=="done"'>
        <field name="customer_id" string="Customer"/>
        <field name="car_id" string="Car"/>
        <field name="booking_information" string="Booking Information"/>
        <field name="state" optional="hide" invisible="1"/>
        <field name="drop_information" string="Drop Information"/>
        <field name="billing_amount" string="Billing Amount"/>
      </tree>
    </field>
  </record>

  <!-- Form View-->
  <record id="car_model_form" model="ir.ui.view">
    <field name="name">flexwheels.booking.form</field>
    <field name="model">flexwheels.booking</field>
    <field name="arch" type="xml">
      <form string="Idea form">
        <header>
          <button name="action_confirm" class="btn-primary" type="object" string="Confirm"/>
          <button name="action_cancel" type="object" string="Cancel"/>
        </header>
        <sheet>
          <group>
            <group>
            <h1>
              <field name="name"/>
            </h1>
            </group>
            <group colspan="2">
              <group cols="1">
                <field name="customer_id"/>
                <field name="pickup_information"/>
                <field name="car_id" string="Car" domain="[('is_available', '=', True)]"/>
                <field name="billing_amount" string="Billing Amount"/>
              </group>
              <group cols="2">
                <field name="booking_information"/>
                <field name="drop_information"/>
                <field name="state"/>
              </group>
            </group>
          </group>
        </sheet>
        
        <!-- chatter -->
        <div class="oe_chatter">
          <field name="activity_ids"/>
          <field name="activity_state"/>
          <field name="message_follower_ids" widget="mail_followers"/>
          <field name="message_ids" widget="mail_thread"/>
        </div>
      </form>
    </field>
  </record>

  <!-- Search View -->
  <record id="flexwheels_booking_search" model="ir.ui.view">
    <field name="name">flexwheels.booking.search</field>
    <field name="model">flexwheels.booking</field>
    <field name="arch" type="xml">
      <search string="Property Search">
        <filter string="Status" name="state" domain="['!',('state','=','cancelled')]"/>
      </search>
    </field>
  </record>
</odoo>
